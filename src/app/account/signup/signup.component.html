<ng-template class="modal fade" tabindex="-1" aria-labelledby="modal-basic-title" aria-hidden="true" #mobileEmailModal
    let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="modal-basic-title">Mobile and Email Verification</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        </button>
    </div>
    <div class="modal-body">
        <div class="form-body">
            <div class="row g3">
                <label for="OTPMobile" class="form-label">
                    Enter Mobile OTP
                </label>
                <div class="input-group mb-3">
                    <input type="password" class="form-control" id="OTPMobile" placeholder="Enter Mobile OTP">
                    <span>
                        <button type="button" (click)="resendotpSms()" class="btn btn-link ms-1">
                            Resend Mobile OTP
                        </button>
                    </span>
                </div>
                <label for="OTPemail" class="form-label">
                    Enter Email OTP
                </label>

                <div class="input-group mb-3">
                    <input type="password" class="form-control" id="OTPemail" placeholder="Enter Email OTP">
                    <span>
                        <button type="button" (click)="resendotpEmail()" class="btn btn-link ms-1">
                            Resend Email OTP
                        </button>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
        <button type="submit" (click)="addData()" class="btn btn-primary btn-sm">Confirm</button>
    </div>
</ng-template>

<div class="inner-banner" style="background-color:#115a87;">
    <div class="container">
        <div class="inner-banner-content">
            <h2 class="m-0">New Registration</h2>
        </div>
    </div>
</div>
<!-----Inner Banner---->
<div class="container">
    <div class="card-form shadow mt-4 p-4">
        <div class="card-form shadow p-4 mt-1">
            <form class="row" [formGroup]="signUpFormGroup" (ngSubmit)="signUpSubmit(mobileEmailModal)">
                <div class="col-sm-6">
                    <div class="mb-3">
                        <label for="userId" class="form-label">User Id</label>
                        <input type="text" id="userId" formControlName="userId" [maxlength]="100" name="userId"
                            class="form-control" (keypress)="alphanumericOnly($event)"
                            (change)="checkUserIDAvailibility($event)"
                            [ngClass]="{ 'is-invalid':(signUpFormControl?.['userId'].errors && (signUpFormControl?.['userId'].dirty || signUpFormControl?.['userId'].touched || submitted  ))}" />

                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['userId'].touched || submitted) && signUpFormControl?.['userId'].errors?.['required']">
                            userId is required</span>
                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['userId'].touched && signUpFormControl?.['userId'].errors?.['pattern'])">Only
                            alphabets and numerics are allowed </span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="mb-3">
                        <label for="subject" class="form-label">User Name</label>
                        <input type="text" id="userName" formControlName="userName" [maxlength]="100" name="userName"
                            class="form-control"
                            [ngClass]="{ 'is-invalid':(signUpFormControl?.['userName'].errors && (signUpFormControl?.['userName'].dirty || signUpFormControl?.['userName'].touched || submitted  ))}" />

                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['userName'].touched || submitted) && signUpFormControl?.['userName'].errors?.['required']">
                            userName is required</span>
                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['userName'].touched && signUpFormControl?.['userName'].errors?.['pattern'])">Only
                            alphabets and numerics are allowed </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="mb-3">
                        <label for="mobileNumber" class="form-label">Mobile Number</label>
                        <input type="text" id="mobileNumber" formControlName="mobileNumber" [maxlength]="10"
                            name="mobileNumber" class="form-control"
                            [ngClass]="{ 'is-invalid':(signUpFormControl?.['mobileNumber'].errors && (signUpFormControl?.['mobileNumber'].dirty || signUpFormControl?.['mobileNumber'].touched || submitted  ))}" />

                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['mobileNumber'].touched || submitted) && signUpFormControl?.['mobileNumber'].errors?.['required']">
                            mobileNumber is required</span>
                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['mobileNumber'].touched && signUpFormControl?.['mobileNumber'].errors?.['pattern'])">Only
                            alphabets and numerics are allowed </span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="text" id="email" formControlName="email" [maxlength]="100" name="email"
                            class="form-control"
                            [ngClass]="{ 'is-invalid':(signUpFormControl?.['email'].errors && (signUpFormControl?.['email'].dirty || signUpFormControl?.['email'].touched || submitted  ))}" />
                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['email'].touched || submitted) && signUpFormControl?.['email'].errors?.['required']">
                            email is required</span>
                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['email'].touched && signUpFormControl?.['email'].errors?.['pattern'])">Only
                            alphabets and numerics are allowed </span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="mb-3">
                        <label class="form-label">Security Pin <small>Case Sensative</small></label>
                        <input type="text" class="form-control" id="txtSecurityPin" formControlName="txtSecurityPin"
                            placeholder="Enter Security Code" name="txtSecurityPin"
                            [ngClass]="{ 'is-invalid':(signUpFormControl?.['txtSecurityPin'].errors 
                && (signUpFormControl?.['txtSecurityPin'].dirty || signUpFormControl?.['txtSecurityPin'].touched || submitted  ))}">
                        <span class="text-danger"
                            *ngIf="(signUpFormControl?.['txtSecurityPin'].touched || submitted) && signUpFormControl?.['txtSecurityPin'].errors?.['required']">
                            Security Pin is required.
                        </span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="mb-3">
                        <label class="form-label">Security Pin</label>
                        <div class="d-flex">
                            <span class="bg-warning p-3 py-0 fs-4 rounded fw-bold" style="letter-spacing: 4px;">{{securitypin}}</span>
                            <button type="button" (click)="refreshCaptcha()" class="btn btn-outline-danger ms-4">
                                <i class="fa fa-refresh"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="mb-3 mt-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                            <label class="form-check-label">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin fermentum, sem nec
                                facilisis
                                elementum, arcu nunc efficitur quam, at placerat urna est in velit. Suspendisse
                                potenti.
                                Suspendisse nec arcu in ligula dictum venenatis at sit amet lacus. Integer sed ante
                                sem.
                                Suspendisse mi erat, mattis et nisl at, aliquet iaculis nisi. In pulvinar fermentum
                                nisi.
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="mb-3 mt-2">
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary mt-4">
                                Sign Up
                            </button>
                            <!-- <button type="button" class="btn btn-primary mt-4" data-bs-toggle="modal"
                                data-bs-target="#staticBackdrop">
                                Sign Up
                            </button> -->
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- page-content -->
<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Mobile and Email OTP Verification</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row g-1">
                    <div class="col-sm-6">
                        <div class="mb-3">
                            <label class="form-label">Enter Mobile OTP</label>
                            <input class="form-control" type="text" aria-label="default input example">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="mb-3">
                            <label class="form-label">&nbsp;</label>
                            <button type="button" class="btn btn-primary d-block">Resend Mobile OTP</button>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="mb-3">
                            <label class="form-label">Enter Email OTP</label>
                            <input class="form-control" type="text" aria-label="default input example">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="mb-3">
                            <label class="form-label">&nbsp;</label>
                            <button type="button" class="btn btn-primary d-block">Resend Email OTP</button>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="mb-3">
                            <label class="form-label">Security Pin</label>
                            <input class="form-control" type="text">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="mb-3">
                            <label class="form-label">Security Pin</label>
                            <p class="p-0">
                                <img src="./assets/images/captchaImg.jpg" style="height: 38px;" />
                                <button class="btn btn-outline-danger ms-2"><i class="fa fa-refresh"></i></button>
                            </p>
                        </div>
                    </div>
                    <div class="col-sm-12 text-center">
                        <div class="mb-3">
                            <a href="/signupsuccess" class="btn btn-primary">Submit</a>
                            <button type="button" class="btn btn-danger ms-2" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--End Modal Popup-->


<!-- <form class="row g-3" [formGroup]="signUpFormGroup" (ngSubmit)="signUpSubmit(mobileEmailModal)">
    <div class="col-xxl-6 col-xl-6 col-md-6 col-sm-12">
        <label for="userId" class="form-label">User Id</label> <input type="text" id="userId" formControlName="userId"
            [maxlength]="100" name="userId" class="form-control" (keypress)="alphanumericOnly($event)"
            (change)="checkUserIDAvailibility($event)" placeholder="Enter UserId"
            [ngClass]="{ 'is-invalid':(signUpFormControl?.['userId'].errors && (signUpFormControl?.['userId'].dirty || signUpFormControl?.['userId'].touched || submitted  ))}" />

        <span class="text-danger"
            *ngIf="(signUpFormControl?.['userId'].touched || submitted) && signUpFormControl?.['userId'].errors?.['required']">
            userId is required</span>
        <span class="text-danger"
            *ngIf="(signUpFormControl?.['userId'].touched && signUpFormControl?.['userId'].errors?.['pattern'])">Only
            alphabets and numerics are allowed </span>
    </div> 
    <div class="col-xxl-6 col-xl-6 col-md-6 col-sm-12">
        <label for="subject" class="form-label">User Name</label> <input type="text" id="userName"
            formControlName="userName" [maxlength]="100" name="userName" class="form-control" placeholder="userName"
            [ngClass]="{ 'is-invalid':(signUpFormControl?.['userName'].errors && (signUpFormControl?.['userName'].dirty || signUpFormControl?.['userName'].touched || submitted  ))}" />

        <span class="text-danger"
            *ngIf="(signUpFormControl?.['userName'].touched || submitted) && signUpFormControl?.['userName'].errors?.['required']">
            userName is required</span>
        <span class="text-danger"
            *ngIf="(signUpFormControl?.['userName'].touched && signUpFormControl?.['userName'].errors?.['pattern'])">Only
            alphabets and numerics are allowed </span>
    </div>
    <div class="col-xxl-6 col-xl-6 col-md-6 col-sm-12">
        <label for="mobileNumber" class="form-label">Mobile Number</label> <input type="text" id="mobileNumber"
            formControlName="mobileNumber" [maxlength]="10" name="mobileNumber" class="form-control"
            placeholder="mobileNumber"
            [ngClass]="{ 'is-invalid':(signUpFormControl?.['mobileNumber'].errors && (signUpFormControl?.['mobileNumber'].dirty || signUpFormControl?.['mobileNumber'].touched || submitted  ))}" />

        <span class="text-danger"
            *ngIf="(signUpFormControl?.['mobileNumber'].touched || submitted) && signUpFormControl?.['mobileNumber'].errors?.['required']">
            mobileNumber is required</span>
        <span class="text-danger"
            *ngIf="(signUpFormControl?.['mobileNumber'].touched && signUpFormControl?.['mobileNumber'].errors?.['pattern'])">Only
            alphabets and numerics are allowed </span>
    </div>
    <div class="col-xxl-6 col-xl-6 col-md-6 col-sm-12">
        <label for="email" class="form-label">Email</label> 
        <input type="text" id="email" formControlName="email" [maxlength]="100" name="email" class="form-control"
            placeholder="email"
            [ngClass]="{ 'is-invalid':(signUpFormControl?.['email'].errors && (signUpFormControl?.['email'].dirty || signUpFormControl?.['email'].touched || submitted  ))}" />

        <span class="text-danger"
            *ngIf="(signUpFormControl?.['email'].touched || submitted) && signUpFormControl?.['email'].errors?.['required']">
            email is required</span>
        <span class="text-danger"
            *ngIf="(signUpFormControl?.['email'].touched && signUpFormControl?.['email'].errors?.['pattern'])">Only
            alphabets and numerics are allowed </span>
    </div>
    <div class="col-xxl-6 col-xl-6 col-md-6 col-sm-12">
        <div class="input-group">
            <input type="text" class="form-control border-end-0" id="txtSecurityPin" formControlName="txtSecurityPin"
                placeholder="Enter Security Code" name="txtSecurityPin" [ngClass]="{ 'is-invalid':(signUpFormControl?.['txtSecurityPin'].errors 
&& (signUpFormControl?.['txtSecurityPin'].dirty || signUpFormControl?.['txtSecurityPin'].touched || submitted  ))}">
        </div>
        <span class="text-danger"
            *ngIf="(signUpFormControl?.['txtSecurityPin'].touched || submitted) && signUpFormControl?.['txtSecurityPin'].errors?.['required']">
            Security Pin is required.
        </span>
    </div>

    <div class="col-xxl-6 col-xl-6 col-md-6 col-sm-12">
        <div class="d-inline">
            <div class="CaptchaDiv">{{securitypin}}</div>
            <button type="button" (click)="refreshCaptcha()" class="btn btn-outline-primary btn-sm ms-2">
                <i class="bx bx-refresh"></i>
            </button>
        </div>

    </div>

    <div class="col-xxl-12 col-xl-12 col-md-12 col-sm-12">
        <div class="d-grid">
            <button type="submit" class="btn btn-primary"><i class='bx bx-user'></i>Sign
                UP</button>
        </div>
    </div>
</form> -->