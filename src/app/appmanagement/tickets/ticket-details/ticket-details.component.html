

<div class="container-fluid">
    <div class="row">
        <div class="col-sm-3">
            <div class="card-form shadow mt-4 pt-0 sideMenu" style="min-height: 313px;">
                <app-side-navbar></app-side-navbar>
            </div>
        </div>
        <ng-template #content let-c="close" let-d="dismiss">
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">View PDf</h4>
                <button type="button" class="btn-close" aria-label="Close"
                    (click)="d('Cross click')"></button>
            </div>
            <div class="modal-body">
                <div class="file-priview-container">
                    <ngx-extended-pdf-viewer 
                        [handTool]="false" [base64Src]="selectedFileB64"
                        [height]="'60vh'" [showHandToolButton]="true">
                    </ngx-extended-pdf-viewer>
                </div>
            </div>
        </ng-template>
        <ng-template #image let-c="close" let-d="dismiss">
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Image</h4>
                <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
            </div>
            <div class="modal-body">
                <img height="200px" [src]="imgSource" alt="Image Source">
            </div>
        </ng-template>
        <div class="col-sm-9">
            <div class="card-form shadow mt-4 pt-3 p-4 leftSideContent">
                <div class="row">
                    <div class="col-sm-12">
                        <p class="fw-bold pb-1">
                            Ticket : {{TicketDetails.subject}}  [{{TicketDetails.ticketNo}}]
                            <a (click)="onEditClick(TicketDetails.ticketId)"class="btn btn-success btn-sm pull-right ms-2" title="Edit">
                                <i class="fa fa-pencil"></i> 
                            </a>                           
                            <a *ngIf="this.TicketDetails.fileID != null" class="btn btn-warning btn-sm pull-right ms-2" (click)="btnPreviewPdf()" title="View Attachment">
                                <i class="fa fa-paperclip"></i> 
                            </a> 
                            <a  class="btn btn-danger btn-sm pull-right ms-2"  (click)="btnDeleteTicket()" title="View Attachment">
                                <i class="fa fa-trash"></i> 
                            </a>                             
                        </p>
                        <small class="d-block my-2 text-muted">{{TicketDetails.boardName}}</small>
                    </div>
                    <div class="col-sm-12 mt-3">
                        <div class="table-responsive">
                            <table class="table table-bordered table-sm w-100">
                                <tbody> 
                                    <tr>
                                        <td>Service Request</td>                                                                          
                                        <td colspan="3">
                                            <a class="btn-link" (click)="onclickServiceRq()">{{TicketDetails.serviceRequestSubject}}</a>
                                        </td>
                                    </tr>                                   
                                    <tr>
                                        <td class="w-25">Details</td>
                                        <td colspan="3" class="w-75">{{TicketDetails.description}}</td>
                                    </tr>
                                    <tr>
                                        <td class="w-25">Assigned To</td>
                                        <td class="w-25">{{(TicketDetails.assignTo==null|| TicketDetails.assignTo=="")?"Unassigned":TicketDetails.assignTo  }}</td>
                                        <!-- <td class="w-25">{{(TicketDetails.assignStatus)  }}</td> -->
                                        <td class="w-25">Progress Status</td>
                                        <td class="w-25">{{TicketDetails.taskStatusDescription}}</td>
                                    </tr>
                                    <tr>
                                        <td>Priority</td>
                                        <td>{{TicketDetails.priorityDescription}}</td>
                                        <td>Category</td>
                                        <td>{{TicketDetails.sectionDescription}}</td>
                                    </tr>
                                    <tr>
                                        <td>Start Date</td>
                                        <td>{{TicketDetails.startDate|ddMmYYYYDate}}</td>
                                        <td>End Date</td>
                                        <td>{{TicketDetails.endDate|ddMmYYYYDate}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>                   
                </div>
            </div>   
            <!-- <app-comments  ></app-comments>  -->
            <div *ngIf="remarks.length>0">
                <app-comments [data]="remarks"></app-comments>
            </div>
           
    </div>
</div>
</div>